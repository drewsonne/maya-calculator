<!doctype html>
<html lang="en">
<head>
    <title>Maya Calculator</title>
    <meta name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="js/jquery-3.4.1.min.js" type="text/javascript"></script>
    <script src="js/bootstrap.js" type="text/javascript"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css">


    <script src="js/model.js" type="text/javascript"></script>
    <script src="js/app.js" type="text/javascript"></script>
    <link href="css/app.css" rel="stylesheet">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <span class="navbar-brand mb-0 h1">
        <img src="ajaw.png" width="30" height="30"
             class="d-inline-block align-top" alt="Maya Calculator">
        Maya Calculator
    </span>
    <!--    <button class="navbar-toggler" type="button" data-toggle="collapse"-->
    <!--            data-target="#navbarSupportedContent"-->
    <!--            aria-controls="navbarSupportedContent" aria-expanded="false"-->
    <!--            aria-label="Toggle navigation">-->
    <!--        <span class="navbar-toggler-icon"></span>-->
    <!--    </button>-->
    <!--    <div class="collapse navbar-collapse" id="navbarSupportedContent">-->
    <!--        <ul class="navbar-nav mr-auto">-->
    <!--            <li class="nav-item dropdown">-->
    <!--                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown"-->
    <!--                   role="button" data-toggle="dropdown" aria-haspopup="true"-->
    <!--                   aria-expanded="false">-->
    <!--                    View-->
    <!--                </a>-->
    <!--                <div class="dropdown-menu" aria-labelledby="navbarDropdown">-->
    <!--                    <button class="dropdown-item" type="button"-->
    <!--                            id="dropdown-item-calendar_round">-->
    <!--                        <span class="oi oi-check" style="display: none;"></span>-->
    <!--                        <span class="check-placeholder"></span>-->
    <!--                        Calendar Round-->
    <!--                    </button>-->
    <!--                    <button class="dropdown-item" type="button"-->
    <!--                            id="dropdown-item-calendar_round_position">-->
    <!--                        <span class="oi oi-check" style="display: none;"></span>-->
    <!--                        <span class="check-placeholder"></span>-->
    <!--                        Calendar Round Position-->
    <!--                    </button>-->

    <!--                    &lt;!&ndash; <div class="dropdown-divider"></div> &ndash;&gt;-->
    <!--                    &lt;!&ndash; <a class="dropdown-item" href="#">Something else here</a> &ndash;&gt;-->
    <!--                </div>-->
    <!--            </li>-->
    <!--        </ul>-->
    <!--    </div>-->
</nav>
<div class="container-fluid">
    <div class="row monospace">
    <textarea class="col-4" id="calendar_input" rows="25">
    </textarea>

        <div class="col-8 " id="longcount_output">
        </div>
    </div>
</div>

<script type="application/javascript">
  $(document).ready(function () {

    const calculator = new MayaCalculator()
    let input = $('#calendar_input')
    let output = $('#longcount_output')
    let evaluate = function (raw_calculations) {
      let results = calculator.evaluate(raw_calculations)
      output.html(results)
    }

    let saved_calculation_raw = window.location.hash.replace('#', '')
    if (saved_calculation_raw.length > 0) {
      let saved_calculation = atob(saved_calculation_raw)
      input.html(saved_calculation)
      evaluate(saved_calculation)
    }

    input.keyup(function (event) {
      let raw_calculations = input.val().trim()
      evaluate(raw_calculations)
      window.location.hash = '#' + btoa(raw_calculations)
    })
  })


</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async
        src="https://www.googletagmanager.com/gtag/js?id=UA-33704557-2"></script>
<script>
  window.dataLayer = window.dataLayer || []

  function gtag () {dataLayer.push(arguments)}

  gtag('js', new Date())

  gtag('config', 'UA-33704557-2')
</script>
</body>

</html>
