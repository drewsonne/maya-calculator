var model = require('./model.js')

describe('gregorian to julian', () => {
  let dates = [
    ['0100-02-29', '0100-02-27'],
    ['0100-03-01', '0100-02-28'],
    ['0100-03-02', '0100-03-01'],
    ['0200-02-28', '0200-02-27'],
    ['0200-02-29', '0200-02-28'],
    ['0200-03-01', '0200-03-02'],
    ['0200-02-28', '0200-02-28'],
    ['0200-02-29', '0200-03-02'],
    ['0200-03-01', '0200-03-02'],
    ['0500-02-28', '0500-03-01'],
    ['0500-02-29', '0500-03-02'],
    ['0500-03-01', '0500-03-03'],
    ['0500-02-28', '0500-03-01'],
    ['0500-02-29', '0500-03-02'],
    ['0500-03-01', '0500-03-03'],
    ['0600-02-28', '0600-03-02'],
    ['0600-02-29', '0600-03-03'],
    ['0600-03-01', '0600-03-04'],
    ['0700-02-28', '0700-03-03'],
    ['0700-02-29', '0700-03-04'],
    ['0700-03-01', '0700-03-05'],
    ['0900-02-28', '0900-03-04'],
    ['0900-02-29', '0900-03-05'],
    ['0900-03-01', '0900-03-06'],
    ['1000-02-28', '1000-03-05'],
    ['1000-02-29', '1000-03-06'],
    ['1000-03-01', '1000-03-07'],
    ['1100-02-28', '1100-03-06'],
    ['1100-02-29', '1100-03-07'],
    ['1100-03-01', '1100-03-08'],
    ['1300-02-28', '1300-03-07'],
    ['1300-02-29', '1300-03-08'],
    ['1300-03-01', '1300-03-09'],
    ['1400-02-28', '1400-03-08'],
    ['1400-02-29', '1400-03-09'],
    ['1400-03-01', '1400-03-10'],
    ['1500-02-28', '1500-03-09'],
    ['1500-02-29', '1500-03-10'],
    ['1500-03-01', '1500-03-11'],
    ['1582-10-04', '1582-10-14'],
    ['1582-10-05', '1582-10-15'],
    ['1582-10-06', '1582-10-16'],
    ['1700-02-18', '1700-02-28'],
    ['1700-02-19', '1700-03-01'],
    ['1700-02-28', '1700-03-10'],
    ['1700-02-29', '1700-03-11'],
    ['1700-03-01', '1700-03-12'],
    ['1800-02-17', '1800-02-28'],
    ['1800-02-18', '1800-03-01'],
    ['1800-02-28', '1800-03-11'],
    ['1800-02-29', '1800-03-12'],
    ['1800-03-01', '1800-03-13'],
    ['1900-02-16', '1900-02-28'],
    ['1900-02-17', '1900-03-01'],
    ['1900-02-28', '1900-03-12'],
    ['1900-02-29', '1900-03-13'],
    ['1900-03-01', '1900-03-14'],
    ['2100-02-15', '2100-02-28'],
    ['2100-02-16', '2100-03-01'],
    ['2100-02-28', '2100-03-13'],
    ['2100-02-29', '2100-03-14'],
  ]
  test.each(dates)(
    'J(%s) -> G(%s)',
    (j_date_raw, g_date_raw) => {
      let g_date = new model.GDate(g_date_raw)
      let j_date = new model.JDate(j_date_raw)

      expect(g_date.switch().format('YYYY-MM-DD')).toBe(j_date_raw)
      expect(j_date.switch().format('YYYY-MM-DD')).toBe(g_date_raw)
    },
  )
})
